<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Week 1 Locating Spatial Epidemiology | EPI 563: Spatial Epidemiology, Fall 2020</title>
  <meta name="description" content="Week 1 Locating Spatial Epidemiology | EPI 563: Spatial Epidemiology, Fall 2020" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Week 1 Locating Spatial Epidemiology | EPI 563: Spatial Epidemiology, Fall 2020" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="mkram01/EPI563-SpatialEPI" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Week 1 Locating Spatial Epidemiology | EPI 563: Spatial Epidemiology, Fall 2020" />
  
  
  

<meta name="author" content="Michael Kramer" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="installing-packages-for-this-course.html"/>
<link rel="next" href="cartography-for-epidemiology-i.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EPI 563: Spatial Epidemiology, Fall 2020</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>How to use this eBook</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#strategy-for-using-this-ebook"><i class="fa fa-check"></i>Strategy for using this eBook</a></li>
</ul></li>
<li class="part"><span><b>I Getting ready…</b></span></li>
<li class="chapter" data-level="" data-path="software-installation.html"><a href="software-installation.html"><i class="fa fa-check"></i>Software installation</a>
<ul>
<li><a href="software-installation.html#installing-r-on-your-computer">Installing <code>R</code> on your computer</a></li>
<li class="chapter" data-level="" data-path="software-installation.html"><a href="software-installation.html#installing-rstudio-on-your-computer"><i class="fa fa-check"></i>Installing RStudio on your computer</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="installing-packages-for-this-course.html"><a href="installing-packages-for-this-course.html"><i class="fa fa-check"></i>Installing packages for this course</a>
<ul>
<li><a href="installing-packages-for-this-course.html#installing-rtools40">Installing <code>Rtools40</code></a></li>
<li class="chapter" data-level="" data-path="installing-packages-for-this-course.html"><a href="installing-packages-for-this-course.html#installing-packages-used-for-general-data-science"><i class="fa fa-check"></i>Installing packages used for general data science</a></li>
<li class="chapter" data-level="" data-path="installing-packages-for-this-course.html"><a href="installing-packages-for-this-course.html#installing-packages-use-for-geographic-data"><i class="fa fa-check"></i>Installing packages use for geographic data</a></li>
<li class="chapter" data-level="" data-path="installing-packages-for-this-course.html"><a href="installing-packages-for-this-course.html#installing-packages-used-for-spatial-data-manipulation-visualization"><i class="fa fa-check"></i>Installing packages used for spatial data manipulation &amp; visualization</a></li>
<li class="chapter" data-level="" data-path="installing-packages-for-this-course.html"><a href="installing-packages-for-this-course.html#installing-packages-used-for-spatial-analysis"><i class="fa fa-check"></i>Installing packages used for spatial analysis</a></li>
</ul></li>
<li class="part"><span><b>II Weekly Modules</b></span></li>
<li class="chapter" data-level="1" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html"><i class="fa fa-check"></i><b>1</b> Locating Spatial Epidemiology</a>
<ul>
<li class="chapter" data-level="1.1" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#getting-ready"><i class="fa fa-check"></i><b>1.1</b> Getting Ready</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#learning-objectives"><i class="fa fa-check"></i><b>1.1.1</b> Learning objectives</a></li>
<li class="chapter" data-level="1.1.2" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#additional-resources"><i class="fa fa-check"></i><b>1.1.2</b> Additional Resources</a></li>
<li class="chapter" data-level="1.1.3" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#important-vocabulary"><i class="fa fa-check"></i><b>1.1.3</b> Important Vocabulary</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>1.2</b> Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="1.3" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>1.3</b> Spatial Analysis in Epidemiology</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#spatial-data-storage-foramts"><i class="fa fa-check"></i><b>1.3.1</b> Spatial data storage foramts</a></li>
<li class="chapter" data-level="1.3.2" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#representing-spatial-data-in-r"><i class="fa fa-check"></i><b>1.3.2</b> Representing spatial data in <code>R</code></a></li>
<li class="chapter" data-level="1.3.3" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#benefits-of-sf-data-classes"><i class="fa fa-check"></i><b>1.3.3</b> Benefits of <code>sf</code> data classes</a></li>
<li class="chapter" data-level="1.3.4" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#working-with-spatial-data-in-r"><i class="fa fa-check"></i><b>1.3.4</b> Working with spatial data in <code>R</code></a></li>
<li class="chapter" data-level="1.3.5" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#basic-visual-inspectionplots"><i class="fa fa-check"></i><b>1.3.5</b> Basic visual inspection/plots</a></li>
<li class="chapter" data-level="1.3.6" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#working-with-crs-and-projection"><i class="fa fa-check"></i><b>1.3.6</b> Working with CRS and projection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cartography-for-epidemiology-i.html"><a href="cartography-for-epidemiology-i.html"><i class="fa fa-check"></i><b>2</b> Cartography for Epidemiology I</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cartography-for-epidemiology-i.html"><a href="cartography-for-epidemiology-i.html#w2-learning-objectives"><i class="fa fa-check"></i><b>2.1</b> w2 Learning objectives</a></li>
<li class="chapter" data-level="2.2" data-path="cartography-for-epidemiology-i.html"><a href="cartography-for-epidemiology-i.html#w2-additional-resources"><i class="fa fa-check"></i><b>2.2</b> w2 Additional Resources</a></li>
<li class="chapter" data-level="2.3" data-path="cartography-for-epidemiology-i.html"><a href="cartography-for-epidemiology-i.html#w2-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>2.3</b> w2 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="2.4" data-path="cartography-for-epidemiology-i.html"><a href="cartography-for-epidemiology-i.html#w2-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>2.4</b> w2 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cartography-for-epidemiology-ii.html"><a href="cartography-for-epidemiology-ii.html"><i class="fa fa-check"></i><b>3</b> Cartography for Epidemiology II</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cartography-for-epidemiology-ii.html"><a href="cartography-for-epidemiology-ii.html#w3-learning-objectives"><i class="fa fa-check"></i><b>3.1</b> w3 Learning objectives</a></li>
<li class="chapter" data-level="3.2" data-path="cartography-for-epidemiology-ii.html"><a href="cartography-for-epidemiology-ii.html#w3-additional-resources"><i class="fa fa-check"></i><b>3.2</b> w3 Additional Resources</a></li>
<li class="chapter" data-level="3.3" data-path="cartography-for-epidemiology-ii.html"><a href="cartography-for-epidemiology-ii.html#w3-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>3.3</b> w3 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="3.4" data-path="cartography-for-epidemiology-ii.html"><a href="cartography-for-epidemiology-ii.html#w3-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>3.4</b> w3 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="disease-mapping-i.html"><a href="disease-mapping-i.html"><i class="fa fa-check"></i><b>4</b> Disease Mapping I</a>
<ul>
<li class="chapter" data-level="4.1" data-path="disease-mapping-i.html"><a href="disease-mapping-i.html#w4-learning-objectives"><i class="fa fa-check"></i><b>4.1</b> w4 Learning objectives</a></li>
<li class="chapter" data-level="4.2" data-path="disease-mapping-i.html"><a href="disease-mapping-i.html#w4-additional-resources"><i class="fa fa-check"></i><b>4.2</b> w4 Additional Resources</a></li>
<li class="chapter" data-level="4.3" data-path="disease-mapping-i.html"><a href="disease-mapping-i.html#w4-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>4.3</b> w4 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="4.4" data-path="disease-mapping-i.html"><a href="disease-mapping-i.html#w4-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>4.4</b> w4 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="disease-mapping-ii.html"><a href="disease-mapping-ii.html"><i class="fa fa-check"></i><b>5</b> Disease Mapping II</a>
<ul>
<li class="chapter" data-level="5.1" data-path="disease-mapping-ii.html"><a href="disease-mapping-ii.html#w5-learning-objectives"><i class="fa fa-check"></i><b>5.1</b> w5 Learning objectives</a></li>
<li class="chapter" data-level="5.2" data-path="disease-mapping-ii.html"><a href="disease-mapping-ii.html#w5-additional-resources"><i class="fa fa-check"></i><b>5.2</b> w5 Additional Resources</a></li>
<li class="chapter" data-level="5.3" data-path="disease-mapping-ii.html"><a href="disease-mapping-ii.html#w5-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>5.3</b> w5 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="5.4" data-path="disease-mapping-ii.html"><a href="disease-mapping-ii.html#w5-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>5.4</b> w5 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="disease-mapping-iii.html"><a href="disease-mapping-iii.html"><i class="fa fa-check"></i><b>6</b> Disease Mapping III</a>
<ul>
<li class="chapter" data-level="6.1" data-path="disease-mapping-iii.html"><a href="disease-mapping-iii.html#w6-learning-objectives"><i class="fa fa-check"></i><b>6.1</b> w6 Learning objectives</a></li>
<li class="chapter" data-level="6.2" data-path="disease-mapping-iii.html"><a href="disease-mapping-iii.html#w6-additional-resources"><i class="fa fa-check"></i><b>6.2</b> w6 Additional Resources</a></li>
<li class="chapter" data-level="6.3" data-path="disease-mapping-iii.html"><a href="disease-mapping-iii.html#w6-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>6.3</b> w6 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="6.4" data-path="disease-mapping-iii.html"><a href="disease-mapping-iii.html#w6-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>6.4</b> w6 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="disease-mapping-iv.html"><a href="disease-mapping-iv.html"><i class="fa fa-check"></i><b>7</b> Disease Mapping IV</a>
<ul>
<li class="chapter" data-level="7.1" data-path="disease-mapping-iv.html"><a href="disease-mapping-iv.html#w7-learning-objectives"><i class="fa fa-check"></i><b>7.1</b> w7 Learning objectives</a></li>
<li class="chapter" data-level="7.2" data-path="disease-mapping-iv.html"><a href="disease-mapping-iv.html#w7-additional-resources"><i class="fa fa-check"></i><b>7.2</b> w7 Additional Resources</a></li>
<li class="chapter" data-level="7.3" data-path="disease-mapping-iv.html"><a href="disease-mapping-iv.html#w7-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>7.3</b> w7 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="7.4" data-path="disease-mapping-iv.html"><a href="disease-mapping-iv.html#w7-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>7.4</b> w7 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="spatial-structure-and-clustering-i.html"><a href="spatial-structure-and-clustering-i.html"><i class="fa fa-check"></i><b>8</b> Spatial Structure and Clustering I</a>
<ul>
<li class="chapter" data-level="8.1" data-path="spatial-structure-and-clustering-i.html"><a href="spatial-structure-and-clustering-i.html#w8-learning-objectives"><i class="fa fa-check"></i><b>8.1</b> w8 Learning objectives</a></li>
<li class="chapter" data-level="8.2" data-path="spatial-structure-and-clustering-i.html"><a href="spatial-structure-and-clustering-i.html#w8-additional-resources"><i class="fa fa-check"></i><b>8.2</b> w8 Additional Resources</a></li>
<li class="chapter" data-level="8.3" data-path="spatial-structure-and-clustering-i.html"><a href="spatial-structure-and-clustering-i.html#w8-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>8.3</b> w8 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="8.4" data-path="spatial-structure-and-clustering-i.html"><a href="spatial-structure-and-clustering-i.html#w8-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>8.4</b> w8 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="spatial-structure-and-clustering-ii.html"><a href="spatial-structure-and-clustering-ii.html"><i class="fa fa-check"></i><b>9</b> Spatial Structure and Clustering II</a>
<ul>
<li class="chapter" data-level="9.1" data-path="spatial-structure-and-clustering-ii.html"><a href="spatial-structure-and-clustering-ii.html#w9-learning-objectives"><i class="fa fa-check"></i><b>9.1</b> w9 Learning objectives</a></li>
<li class="chapter" data-level="9.2" data-path="spatial-structure-and-clustering-ii.html"><a href="spatial-structure-and-clustering-ii.html#w9-additional-resources"><i class="fa fa-check"></i><b>9.2</b> w9 Additional Resources</a></li>
<li class="chapter" data-level="9.3" data-path="spatial-structure-and-clustering-ii.html"><a href="spatial-structure-and-clustering-ii.html#w9-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>9.3</b> w9 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="9.4" data-path="spatial-structure-and-clustering-ii.html"><a href="spatial-structure-and-clustering-ii.html#w9-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>9.4</b> w9 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="spatial-regression-i.html"><a href="spatial-regression-i.html"><i class="fa fa-check"></i><b>10</b> Spatial Regression I</a>
<ul>
<li class="chapter" data-level="10.1" data-path="spatial-regression-i.html"><a href="spatial-regression-i.html#w10-learning-objectives"><i class="fa fa-check"></i><b>10.1</b> w10 Learning objectives</a></li>
<li class="chapter" data-level="10.2" data-path="spatial-regression-i.html"><a href="spatial-regression-i.html#w10-additional-resources"><i class="fa fa-check"></i><b>10.2</b> w10 Additional Resources</a></li>
<li class="chapter" data-level="10.3" data-path="spatial-regression-i.html"><a href="spatial-regression-i.html#w10-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>10.3</b> w10 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="10.4" data-path="spatial-regression-i.html"><a href="spatial-regression-i.html#w10-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>10.4</b> w10 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="spatial-regression-ii.html"><a href="spatial-regression-ii.html"><i class="fa fa-check"></i><b>11</b> Spatial Regression II</a>
<ul>
<li class="chapter" data-level="11.1" data-path="spatial-regression-ii.html"><a href="spatial-regression-ii.html#w11-learning-objectives"><i class="fa fa-check"></i><b>11.1</b> w11 Learning objectives</a></li>
<li class="chapter" data-level="11.2" data-path="spatial-regression-ii.html"><a href="spatial-regression-ii.html#w11-additional-resources"><i class="fa fa-check"></i><b>11.2</b> w11 Additional Resources</a></li>
<li class="chapter" data-level="11.3" data-path="spatial-regression-ii.html"><a href="spatial-regression-ii.html#w11-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>11.3</b> w11 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="11.4" data-path="spatial-regression-ii.html"><a href="spatial-regression-ii.html#w11-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>11.4</b> w11 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="spatial-regression-iii.html"><a href="spatial-regression-iii.html"><i class="fa fa-check"></i><b>12</b> Spatial Regression III</a>
<ul>
<li class="chapter" data-level="12.1" data-path="spatial-regression-iii.html"><a href="spatial-regression-iii.html#w12-learning-objectives"><i class="fa fa-check"></i><b>12.1</b> w12 Learning objectives</a></li>
<li class="chapter" data-level="12.2" data-path="spatial-regression-iii.html"><a href="spatial-regression-iii.html#w12-additional-resources"><i class="fa fa-check"></i><b>12.2</b> w12 Additional Resources</a></li>
<li class="chapter" data-level="12.3" data-path="spatial-regression-iii.html"><a href="spatial-regression-iii.html#w12-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>12.3</b> w12 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="12.4" data-path="spatial-regression-iii.html"><a href="spatial-regression-iii.html#w12-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>12.4</b> w12 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="wrap-up-project.html"><a href="wrap-up-project.html"><i class="fa fa-check"></i><b>13</b> Wrap-up &amp; Project</a>
<ul>
<li class="chapter" data-level="13.1" data-path="wrap-up-project.html"><a href="wrap-up-project.html#w13-learning-objectives"><i class="fa fa-check"></i><b>13.1</b> w13 Learning objectives</a></li>
<li class="chapter" data-level="13.2" data-path="wrap-up-project.html"><a href="wrap-up-project.html#w13-additional-resources"><i class="fa fa-check"></i><b>13.2</b> w13 Additional Resources</a></li>
<li class="chapter" data-level="13.3" data-path="wrap-up-project.html"><a href="wrap-up-project.html#w13-spatial-thinking-in-epidemiology"><i class="fa fa-check"></i><b>13.3</b> w13 Spatial Thinking in Epidemiology</a></li>
<li class="chapter" data-level="13.4" data-path="wrap-up-project.html"><a href="wrap-up-project.html#w13-spatial-analysis-in-epidemiology"><i class="fa fa-check"></i><b>13.4</b> w13 Spatial Analysis in Epidemiology</a></li>
</ul></li>
<li class="part"><span><b>III Appendices</b></span></li>
<li class="chapter" data-level="14" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html"><i class="fa fa-check"></i><b>14</b> Tips for reproducibility in <code>R</code></a>
<ul>
<li class="chapter" data-level="" data-path="locating-spatial-epidemiology.html"><a href="locating-spatial-epidemiology.html#additional-resources"><i class="fa fa-check"></i>Additional Resources</a></li>
<li class="chapter" data-level="14.1" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#workflows-to-enhance-reproducibility"><i class="fa fa-check"></i><b>14.1</b> Workflows to enhance reproducibility</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#using-projects-in-r"><i class="fa fa-check"></i><b>14.1.1</b> Using Projects in <code>R</code></a></li>
</ul></li>
<li><a href="tips-for-reproducibility-in-r.html#why-r-notebooks">Why <code>R Notebooks</code>?</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#what-you-need-to-know"><i class="fa fa-check"></i>What you need to know</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#important-r-notebook-functions"><i class="fa fa-check"></i>Important R Notebook functions</a>
<ul>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#the-yaml"><i class="fa fa-check"></i>The YAML</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#typing-text"><i class="fa fa-check"></i>Typing text</a></li>
<li><a href="tips-for-reproducibility-in-r.html#adding-r-code">Adding <code>R</code> Code</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#making-tables"><i class="fa fa-check"></i>Making tables</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#workflow"><i class="fa fa-check"></i>Workflow</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#optional-functions"><i class="fa fa-check"></i>Optional functions</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#customizing-your-yaml"><i class="fa fa-check"></i>Customizing your YAML</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#simple-formatting-of-your-notebook"><i class="fa fa-check"></i>Simple formatting of your Notebook</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#text-formatting"><i class="fa fa-check"></i>Text formatting</a></li>
<li class="chapter" data-level="" data-path="tips-for-reproducibility-in-r.html"><a href="tips-for-reproducibility-in-r.html#final-note"><i class="fa fa-check"></i>Final Note</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="sf-overview.html"><a href="sf-overview.html"><i class="fa fa-check"></i><b>15</b> Tips for working with <code>sf</code> data class</a>
<ul>
<li class="chapter" data-level="15.1" data-path="sf-overview.html"><a href="sf-overview.html#st_set_geom"><i class="fa fa-check"></i><b>15.1</b> <code>st_set_geom()</code></a></li>
<li class="chapter" data-level="15.2" data-path="sf-overview.html"><a href="sf-overview.html#st_as_sf"><i class="fa fa-check"></i><b>15.2</b> <code>st_as_sf()</code></a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dplyr.html"><a href="dplyr.html"><i class="fa fa-check"></i><b>16</b> Tips for using <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="16.1" data-path="dplyr.html"><a href="dplyr.html#mutate"><i class="fa fa-check"></i><b>16.1</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="16.2" data-path="dplyr.html"><a href="dplyr.html#filter"><i class="fa fa-check"></i><b>16.2</b> <code>filter()</code></a></li>
<li class="chapter" data-level="16.3" data-path="dplyr.html"><a href="dplyr.html#arrange"><i class="fa fa-check"></i><b>16.3</b> <code>arrange()</code></a></li>
<li class="chapter" data-level="16.4" data-path="dplyr.html"><a href="dplyr.html#pipe-operator"><i class="fa fa-check"></i><b>16.4</b> <code>%&gt;%</code> Pipe operator</a></li>
<li class="chapter" data-level="16.5" data-path="dplyr.html"><a href="dplyr.html#group_by-and-summarise"><i class="fa fa-check"></i><b>16.5</b> <code>group_by()</code> and <code>summarise()</code></a></li>
<li class="chapter" data-level="16.6" data-path="dplyr.html"><a href="dplyr.html#pivot_"><i class="fa fa-check"></i><b>16.6</b> Reshaping (transposing) data</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="dplyr.html"><a href="dplyr.html#pivot_longer-for-going-from-wide-to-long"><i class="fa fa-check"></i><b>16.6.1</b> <code>pivot_longer()</code> for going from wide to long</a></li>
<li class="chapter" data-level="16.6.2" data-path="dplyr.html"><a href="dplyr.html#pivot_wider"><i class="fa fa-check"></i><b>16.6.2</b> <code>pivot_wider()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="intro-tmap.html"><a href="intro-tmap.html"><i class="fa fa-check"></i><b>17</b> Tips for using <code>tmap</code></a>
<ul>
<li class="chapter" data-level="17.1" data-path="intro-tmap.html"><a href="intro-tmap.html#tmap-mode"><i class="fa fa-check"></i><b>17.1</b> <code>tmap</code> mode</a></li>
<li class="chapter" data-level="17.2" data-path="intro-tmap.html"><a href="intro-tmap.html#qtm"><i class="fa fa-check"></i><b>17.2</b> Quick maps: <code>qtm()</code></a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="intro-tmap.html"><a href="intro-tmap.html#customizing-qtm-for-polygons"><i class="fa fa-check"></i><b>17.2.1</b> Customizing <code>qtm()</code> for polygons</a></li>
<li class="chapter" data-level="17.2.2" data-path="intro-tmap.html"><a href="intro-tmap.html#customizing-qtm-for-lines"><i class="fa fa-check"></i><b>17.2.2</b> Customizing <code>qtm()</code> for lines</a></li>
<li class="chapter" data-level="17.2.3" data-path="intro-tmap.html"><a href="intro-tmap.html#customizing-qtm-for-points"><i class="fa fa-check"></i><b>17.2.3</b> Customizing <code>qtm()</code> for points</a></li>
<li class="chapter" data-level="17.2.4" data-path="intro-tmap.html"><a href="intro-tmap.html#finding-valid-color-options"><i class="fa fa-check"></i><b>17.2.4</b> Finding valid color options</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="intro-tmap.html"><a href="intro-tmap.html#building-maps-with-tmap"><i class="fa fa-check"></i><b>17.3</b> Building maps with <code>tmap</code></a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="intro-tmap.html"><a href="intro-tmap.html#building-blocks-in-tmap"><i class="fa fa-check"></i><b>17.3.1</b> Building blocks in <code>tmap</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="intro-tmap.html"><a href="intro-tmap.html#customizing-text-on-maps"><i class="fa fa-check"></i><b>17.3.2</b> Customizing text on maps</a></li>
<li class="chapter" data-level="17.3.3" data-path="intro-tmap.html"><a href="intro-tmap.html#adding-two-or-more-spatial-objects-in-one-map"><i class="fa fa-check"></i><b>17.3.3</b> Adding two or more spatial objects in one map</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="intro-tmap.html"><a href="intro-tmap.html#making-small-multiple-maps"><i class="fa fa-check"></i><b>17.4</b> Making small-multiple maps</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="intro-tmap.html"><a href="intro-tmap.html#small-multiples-as-a-vector-of-variables"><i class="fa fa-check"></i><b>17.4.1</b> Small multiples as a vector of variables</a></li>
<li class="chapter" data-level="17.4.2" data-path="intro-tmap.html"><a href="intro-tmap.html#tmap-facet"><i class="fa fa-check"></i><b>17.4.2</b> Small multiples with facets</a></li>
<li class="chapter" data-level="17.4.3" data-path="intro-tmap.html"><a href="intro-tmap.html#facets-for-time-series"><i class="fa fa-check"></i><b>17.4.3</b> Facets for time-series</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="intro-tmap.html"><a href="intro-tmap.html#small-multiples-with-tmap_arrange"><i class="fa fa-check"></i><b>17.5</b> Small multiples with <code>tmap_arrange()</code></a></li>
<li class="chapter" data-level="17.6" data-path="intro-tmap.html"><a href="intro-tmap.html#summarizing-small-multiples"><i class="fa fa-check"></i><b>17.6</b> Summarizing small multiples</a></li>
<li class="chapter" data-level="17.7" data-path="intro-tmap.html"><a href="intro-tmap.html#saving-maps"><i class="fa fa-check"></i><b>17.7</b> Saving maps</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EPI 563: Spatial Epidemiology, Fall 2020</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="locating-spatial-epidemiology" class="section level1" number="1">
<h1><span class="header-section-number">Week 1</span> Locating Spatial Epidemiology</h1>
<div id="getting-ready" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Getting Ready</h2>
<div id="learning-objectives" class="section level3" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Learning objectives</h3>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 100%; margin-left: auto; margin-right: auto;  " id="learning-ob">
<caption style="caption-side: top; text-align: center;"><span id="tab:learning-ob">TABLE 1.1: </span> Learning objectives by weekly module</caption><col><tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 6pt; background-color: rgb(208, 211, 212); font-weight: bold;">After this module you should be able to…</th></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 6pt; background-color: rgb(250, 229, 211); font-weight: normal;">Explain the potential role of spatial analysis for epidemiologic thinking and practice.</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 6pt; background-color: rgb(245, 203, 167); font-weight: normal;">Produce simple thematic maps of epidemiologic data in R.</td></tr>
</table>

</div>
<div id="additional-resources" class="section level3" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Additional Resources</h3>
<ul>
<li><a href="https://geocompr.robinlovelace.net/">Geocompution with R</a> by Robin Lovelace. This will be a recurring ‘additional resource’ as it provides lots of useful insight and strategy for working with spatial data in <code>R</code>. I encourage you to browse it quickly now, but return often when you have qusetiona about how to handle geogrpahic data (especially of class <code>sf</code>) in <code>R</code>.</li>
<li><a href="https://bookdown.org/agrogankaylor/quick-intro-to-ggplot2/quick-intro-to-ggplot2.html">A basic introduction to the <code>ggplot2</code> package</a>. This is just one of dozens of great online resources introducing the <em>grammar of graphics</em> approach to plotting in <code>R</code>.</li>
<li><a href="https://tlorusso.github.io/geodata_workshop/tmap_package#:~:text=The%20tmap%20package%20is%20a,as%20choropleths%20and%20bubble%20maps.">A basic introduction to the <code>tmap</code> package</a> This is also only one of many introductions to the <code>tmap</code> mapping package. <code>tmap</code> builds on the <em>grammar of graphics</em> philosophy of <code>ggplot2</code>, but brings a lot of tools useful for thematic mapping!</li>
</ul>
</div>
<div id="important-vocabulary" class="section level3" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Important Vocabulary</h3>
<table class="huxtable" style="border-collapse: collapse; border: 0px; margin-bottom: 2em; margin-top: 2em; width: 90%; margin-left: auto; margin-right: auto;  " id="tab:unnamed-chunk-9">
<caption style="caption-side: top; text-align: center;"><span id="tab:unnamed-chunk-9">TABLE 1.2: </span> Vocabulary for Week 1</caption><col><col><tr>
<th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(84, 153, 199); font-weight: bold;"><span style="color: rgb(255, 255, 255);">Term</span></th><th style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(84, 153, 199); font-weight: bold;"><span style="color: rgb(255, 255, 255);">Definition</span></th></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(212, 230, 241); font-weight: bold;">Unit of analysis</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(212, 230, 241); font-weight: normal;">The unit or object that is measured, analyzed, and about which you wish to make inference. Examples of units of analysis are person, neighborhood, city, state, or hospital.</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(169, 204, 227); font-weight: bold;">Attribute data</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(169, 204, 227); font-weight: normal;">Nonspatial information about a geographic feature in a GIS, usually stored in a table and linked to the feature by a unique identifier. For example, attributes of a county might include the population size, density, and birth rate for the resident population</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(212, 230, 241); font-weight: bold;">Geometry data</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(212, 230, 241); font-weight: normal;">Spatial information about a geogrpahic feature. This could include the x, y coordinates for points or for vertices of lines or polygons, or the cell coordinates for raster data</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(169, 204, 227); font-weight: bold;">Spatial data model: vector</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(169, 204, 227); font-weight: normal;">A coordinate-based data model that represents geographic features as points, lines, and polygons. Each point feature is represented as a single coordinate pair, while line and polygon features are represented as ordered lists of vertices. Attributes are associated with each vector feature, as opposed to a raster data model, which associates attributes with grid cells (see figure below)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(212, 230, 241); font-weight: bold;">Spatial data model: raster</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(212, 230, 241); font-weight: normal;">A spatial data model that defines space as an array of equally sized cells arranged in rows and columns, and composed of single or multiple bands. Each cell contains an attribute value and location coordinates. Unlike a vector structure, which stores coordinates explicitly, raster coordinates are contained in the ordering of the matrix. Groups of cells that share the same value represent the same type of geographic feature (see Figure below)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(169, 204, 227); font-weight: bold;">Geographic coordinate system</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(169, 204, 227); font-weight: normal;">A reference system that uses latitude and longitude to define the locations of points on the surface of a sphere or spheroid. A geographic coordinate system definition includes a datum, prime meridian, and angular unit</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(212, 230, 241); font-weight: bold;">Datum</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(212, 230, 241); font-weight: normal;">The reference specifications of a measurement system, usually a system of coordinate positions on a surface (a horizontal datum) or heights above or below a surface (a vertical datum)</td></tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 2pt 2pt 6pt; background-color: rgb(169, 204, 227); font-weight: bold;">Projection</td><td style="vertical-align: top; text-align: left; white-space: normal; border-style: solid solid solid solid; border-width: 1pt 1pt 1pt 1pt; border-top-color: rgb(255, 255, 255);  border-right-color: rgb(255, 255, 255);  border-bottom-color: rgb(255, 255, 255);  border-left-color: rgb(255, 255, 255); padding: 2pt 6pt 2pt 2pt; background-color: rgb(169, 204, 227); font-weight: normal;">A method by which the curved surface of the earth is portrayed on a flat surface. This generally requires a systematic mathematical transformation of the earth's graticule of lines of longitude and latitude onto a plane. Some projections can be visualized as a transparent globe with a light bulb at its center (though not all projections emanate from the globe's center) casting lines of latitude and longitude onto a sheet of paper. Generally, the paper is either flat and placed tangent to the globe (a planar or azimuthal projection) or formed into a cone or cylinder and placed over the globe (cylindrical and conical projections). Every map projection distorts distance, area, shape, direction, or some combination thereof</td></tr>
</table>

<p><img src="images/data-models.png" /><!-- --></p>
</div>
</div>
<div id="spatial-thinking-in-epidemiology" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Spatial Thinking in Epidemiology</h2>
<p>When first learning epidemiology, it can be difficult to distinguish between the concepts, theories, and purpose of epidemiology versus the skills, tools, and methods that we use to implement epidemiology. But these distinctions are foundational to our collective professional identity, and to the way we go about doing our work. For instance do you think of epidemiologists as data analysts, scientists, data scientists, technicians or something else? These questions are bigger than we can address in this class, but their importance becomes especially apparent when learning an area such as <em>spatial epidemiology</em>. This is because there is a tendency for discourse in spatial epidemiology to focus primarily on the <em>data</em> and the <em>methods</em> without understanding how each of those relate to the <em>scientific questions</em> and <em>population health</em> we are ultimately responsible for. Distinguishing these threads is an overarching goal of this course, even as we learn the data science and spatial analytic tools.</p>
<p>One quite simplistic but important example of how our questions and methods are inter-related is apparent when we think of <strong>data</strong>. Data is central to quantitative analysis, including epidemiologic analysis. So how is <em>data</em> different in <em>spatial</em> epidemiology? The first thing that might come to mind is that we have explicitly geographic or spatial measures contained within our data. But even more fundamental than the content is thinking about the <em>unit of analysis</em>.</p>
<p>While in many other examples in your epidemiology coursework, the explicit (or sometimes implicit) unit of analysis has been the individual person. It is certainly possible for individuals to be the unit of analysis in spatial epidemiology (e.g. we might measure the exact place where an individual lives). However oftentimes the units we observe and measure in spatial epidemiology – and therefore the units that compose much of our <strong>data</strong> – are not individuals but instead are geographic units (e.g. census tract, county, state, etc) and by extension the <em>collection</em> or <em>aggregation</em> of all the individuals therein. This has implications for precision, bias, and ultimately for inference (e.g. the meaning we can make from our analysis), as we’ll discuss throughout the semester.</p>
<p>One concrete implication of the above discussion is that you should always be able to answer a basic question about any dataset you wish to analyze: “<em>what does one row of data represent?</em>” A row of data is one way to think of the <em>unit of analysis</em>, and often (but not always) in spatial epidemiology a row of data is a summary of the population contained by a geographic unit. Said another way it is an <em>ecologic summary</em> of the population.</p>
<p>As we move through the semester, I encourage you to dig deep into how methods work, but also to step back and ask questions like <em>“Why would I choose this method?”</em> or <em>“What question in epidemiology is this useful for?”</em></p>
</div>
<div id="spatial-analysis-in-epidemiology" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Spatial Analysis in Epidemiology</h2>
<div id="spatial-data-storage-foramts" class="section level3" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> Spatial data storage foramts</h3>
<p>If you have worked with spatial or GIS data using ESRI’s ArcMap, you will be familiar with what are called <em>shapefiles</em>. This is one very common format for storing geographic data on computers. ESRI shapefiles are not actually a single file, but are anywhere from four to eight different files all with the same file name but different extensions (e.g. <em>.shp</em>, <em>.prj</em>, <em>.shx</em>, etc). Each different file (corresponding to an extension) contains a different portion of the data ranging from the geometry data, the attribute data, the projection data, an index connecting it all together, etc.</p>
<p>What you may not know is that shapefiles are not the only (and in my opinion <strong>definitely not the best</strong>) way to store geographic data. In this class I recommend storing data in a format called <em>geopackages</em> indicated by the <code>.gpkg</code> extension. Geopackages are an open source format that were developed to be functional on mobile devices. They are useful when we are storing individual files in an efficient and compact way. It is worth noting that many GIS programs including ArcMap and QGIS can both read and write the geopackage format; so there is no constraint or limitation in terms of software when data are stored in <code>.gpkg</code> format.</p>
</div>
<div id="representing-spatial-data-in-r" class="section level3" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> Representing spatial data in <code>R</code></h3>
<p>Just as our conceptualization of, or thinking about <em>data</em> in spatial epidemiology requires some reflection, the actual storage and representation of that data with a computer tool such as <code>R</code> also requires some attention. Specifically spatial data in <code>R</code> is not exactly like the conventional <em>aspatial</em> epidemiologic data, but it is also need not be as complex as spatial data in software platforms like ESRI’s ArcMap.</p>
<p>First, it may be obvious, but spatial data is more complex than simple rectangular attribute data (e.g. data tables where a row is an observation and a column is a variable). To be <em>spatial</em>, a dataset must have a representation of geography, spatial location, or spatial relatedness, and that is most commonly done with either a <em>vector</em> or <em>raster</em> data model (see description above in vocabulary). Those spatial or geographic representations must be stored on your computer and/or held in memory, hopefully with a means for relating or associating the individual locations with their corresponding attributes. For example we want to know the attribute (e.g. the count of deaths for a given place), and the location of that place, and ideally we want to the two connected together.</p>
<p>Over the past 10+ years, <code>R</code> has increasingly been used to analyze and visualize spatial data. Early on, investigators tackling the complexities of spatial data analysis developed a number of ad hoc, one-off approaches to these data. This worked in the short term for specific applications, but it created new problems as users needed to generalize a method to a new situation, or chain together steps. In those settings it was not uncommon to convert a dataset to multiple different formats to accomplish all tasks.</p>
<p>An eventual response to this early tumult was a thoughtful and systematic approach to defining a class of data that tackled the unique challenges of spatial data in <code>R</code>. Roger Bivand, Edzer Pebesma and others developed the <code>sp</code> package which defined spatial data classes, and provided functional tools to interact with them. The <code>sp</code> package defined specific data classes to hold points, lines, and polygons, as well as raster/grid data; each of these data classes can contain geometry only (these have names like <code>SpatialPoints</code> or <code>SpatialPolygons</code>) or could contain geometry plus related data attributes (these have names like <code>SPatialPointsDataFrame</code> or <code>SpatialPolygonsDataFrame</code>). Each spatial object can contain all the information spatial data might include: the spatial extent (min/max x, y values), the coordinate system or spatial projection, the geometry information, the attribute information, etc.</p>
<p>Because of the flexibility and power of the <code>sp*</code> class of objects, they became a standard up until the last few years. <code>sp*</code> classes continue to be the only format allowed by a few of the packages we will use this semester. However analysts sometimes find the complexity of the <code>sp*</code> objects to be a hindrance to efficient processing of geographic data. Specifically the information is stored in numerous ‘slots’ (e.g. special storage structures useful for computer programmers but less useful for applied analysts).</p>
<p>As the number of ways to manipulate and visualize data increases, there was a desire to make spatial data behave more like tabular or rectangular data. This led the same team (e.g. Bivand, Pebesma, others) to develop the <em>Simple Features</em> set of spatial data classes for <code>R</code>. Loaded with the <code>sf</code> package, this data format has quickly become the standard for handling spatial data in <code>R</code>. Recognizing that many users and functions prefer the older <code>sp*</code> objects, the <code>sf</code> package includes a number of utility functions for easily converting back and forth.</p>
<p><strong>In this class we will use <code>sf*</code> class objects as the preferred data class, but because some of the tools we’ll learn require <code>sp*</code> we will occasionally go back and forth.</strong></p>
<p><code>sf*</code> data classes are designed to hold all the essential spatial information (projection, extent, geometry), but do so with an easy to evaluate <code>data.frame</code> format that integrates the attribute information and the geometry information together. The result is more intuitive sorting, selecting, aggregating, and visualizing.</p>
</div>
<div id="benefits-of-sf-data-classes" class="section level3" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> Benefits of <code>sf</code> data classes</h3>
<p>As Robin Lovelace writes in his online eBook, <a href="https://geocompr.robinlovelace.net/">Gecomputation in R</a>, <code>sf</code> data classes offer an approach to spatial data that is compatible with QGIS and PostGIS, important non-ESRI open source GIS platforms, and <code>sf</code> functionality compared to <code>sp</code> provides:</p>
<ol style="list-style-type: decimal">
<li>Fast reading and writing of data</li>
<li>Enhanced plotting performance</li>
<li><code>sf</code> objects can be treated as data frames in most operations</li>
<li><code>sf</code> functions can be combined using <code>%&gt;%</code> pipe operator and works well with the <code>tidyverse</code> collection of <code>R</code> packages (<a href="dplyr.html#dplyr">see Tips for using <code>dplyr</code></a> for examples)</li>
<li><code>sf</code> function names are relatively consistent and intuitive (all begin with <code>st_</code>)</li>
</ol>
</div>
<div id="working-with-spatial-data-in-r" class="section level3" number="1.3.4">
<h3><span class="header-section-number">1.3.4</span> Working with spatial data in <code>R</code></h3>
<p>Here and in lab, one example dataset we will use, called <code>ga.mvc</code> quantifies the counts and rates of death from motor vehicle crashes in each of Georgia’s <span class="math inline">\(n=159\)</span> counties. The dataset is <em>vector</em> in that it represents counties as polygons with associated attributes (e.g. the mortality information, county names, etc).</p>
<div id="importing-spatial-data-into-r" class="section level4" number="1.3.4.1">
<h4><span class="header-section-number">1.3.4.1</span> Importing spatial data into <code>R</code></h4>
<p>It is important to distinguish between two kinds of data formats. There is a way that data is <em>stored on a computer hard drive</em>, and then there is a way that data is organized and managed <em>inside a program</em> like <code>R</code>. The <em>shapefiles</em> (<code>.shp</code>) popularized by ESRI/ArcMap is an example of a format for storing spatial data on a hard drive. In contrast, the discussion above about the <code>sf*</code> and <code>sp*</code> data classes refer to how data is organized <em>inside <code>R</code></em>. Luckily, regardless of how data is <em>stored</em> on your computer, it is possible to import almost any format into <code>R</code>, and once inside <code>R</code> it is possible to make it into either the <code>sp*</code> or <code>sf*</code> data class. That means if you receive data as a <code>.shp</code> shapefile, as a <code>.gpkg</code> geopackage, or as a <code>.tif</code> raster file, each can be easily imported.</p>
<p>All <code>sf</code> functions that act on spatial objects begin with the prefix <code>st_</code>. Therefore to import (read) data we will use <code>st_read()</code>. This function determines <strong>how</strong> to import the data based on the extension of the file name you specify. Look at the help documentation for <code>st_read()</code>. Notice that the first argument <code>dsn=</code>, might be a complete file name (e.g. <code>myData.shp</code>), or it might be a folder name (e.g. <code>mygeodatabase.gdb</code>). So if you had a the motor vehicle crash data saved as both a shapefile (<code>mvc.shp</code>, which is actually six different files on your computer), and as a geopackage (<code>mvc.gpkg</code>) you can read them in like this:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="locating-spatial-epidemiology.html#cb5-1"></a><span class="co"># this is the shapefile</span></span>
<span id="cb5-2"><a href="locating-spatial-epidemiology.html#cb5-2"></a>mvc.a &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&#39;GA_MVC/ga_mvc.shp&#39;</span>)</span>
<span id="cb5-3"><a href="locating-spatial-epidemiology.html#cb5-3"></a></span>
<span id="cb5-4"><a href="locating-spatial-epidemiology.html#cb5-4"></a><span class="co"># this is the geopackage</span></span>
<span id="cb5-5"><a href="locating-spatial-epidemiology.html#cb5-5"></a>mvc.b &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&#39;GA_MVC/ga_mvc.gpkg&#39;</span>)</span></code></pre></div>
<p>We can take a look at the defined data class of the imported objects within <code>R</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="locating-spatial-epidemiology.html#cb6-1"></a><span class="kw">class</span>(mvc.a)</span></code></pre></div>
<pre><code>## [1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="locating-spatial-epidemiology.html#cb8-1"></a><span class="kw">class</span>(mvc.b)</span></code></pre></div>
<pre><code>## [1] &quot;sf&quot;         &quot;data.frame&quot;</code></pre>
<p>First, note that when we use the <code>st_read()</code> function, the data class (e.g. the way the data are defined and organized <em>within <code>R</code></em>) is the same for both <code>mvc.a</code> (which started as a <code>.shp</code> file) and <code>mvc.b</code> (which started as a <code>.gpkg</code> file). That is because <code>st_read()</code> automatically classifies spatial data using <code>sf</code> classes when it imports.</p>
<p>You will also notice that when we examined the <code>class()</code> of each object, they are classified as <strong>both</strong> <code>sf</code> <strong>and</strong> <code>data.frame</code> class. That is incredibly important, and it speaks to an elegant simplicity of the <code>sf*</code> data classes! That it is classified as <code>sf</code> is perhaps obvious; but the fact that each object is <em>also classified</em> as <code>data.frame</code> means that we can treat the object for the purposes of data management, manipulation and analysis as a relatively simple-seeming object: a rectangular <code>data.frame</code>. How does that work? We will explore this more in lab but essentially each dataset has rows (observations) and columns (variables). We can see the variable/column names like this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="locating-spatial-epidemiology.html#cb10-1"></a><span class="kw">names</span>(mvc.a)</span></code></pre></div>
<pre><code>## [1] &quot;GEOID&quot;      &quot;NAME&quot;       &quot;MVCRATE_17&quot; &quot;geometry&quot;</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="locating-spatial-epidemiology.html#cb12-1"></a><span class="kw">names</span>(mvc.b)</span></code></pre></div>
<pre><code>## [1] &quot;GEOID&quot;      &quot;NAME&quot;       &quot;MVCRATE_17&quot; &quot;geom&quot;</code></pre>
<p>We can see that each dataset has the same <em>attribute</em> variables (e.g. <code>GEOID</code>, <code>NAME</code>, <code>MVCRATE_17</code>), and then a final column called <code>geometry</code> in one and called <code>geom</code> in another. These geometry columns are unique in that they don’t hold a single value like the other columns; each <em>‘cell’</em> in those columns actually contains an embedded list of <span class="math inline">\(x,y\)</span> coordinates defining the vertices of the polygons for each of Georgia’s counties.</p>
<p>Combining these two observations, we now know that we can work with a wide range of spatial data formats, and that once imported we can conceive of (and manipulate!) these data almost as if they were simple rectangular datasets. This has implications for subsetting, recoding, merging, and aggregating data as we’ll learn in the coming weeks.</p>
</div>
<div id="exporting-spatial-data-from-r" class="section level4" number="1.3.4.2">
<h4><span class="header-section-number">1.3.4.2</span> Exporting spatial data from <code>R</code></h4>
<p>While importing is often the primary challenge with spatial data and <code>R</code>, it is not uncommon that you might modify or alter a spatial dataset and wish to save it for future use, or to write it out to disk to share with a colleague. Luckily the <code>sf</code> package has the same functionality to write an <code>sf</code> spatial object to disk in a wide variety of formats including <em>shapefiles</em> (<code>.shp</code>) and <em>geopackages</em> (<code>.gpkg</code>). Again, <code>R</code> uses the extension you specify in the filename to determine the target format.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="locating-spatial-epidemiology.html#cb14-1"></a><span class="co"># Write the file mvc to disk as a shapefile format</span></span>
<span id="cb14-2"><a href="locating-spatial-epidemiology.html#cb14-2"></a><span class="kw">st_write</span>(mvc, <span class="st">&#39;GA_MVC/ga_mvc_v2.shp&#39;</span>)</span>
<span id="cb14-3"><a href="locating-spatial-epidemiology.html#cb14-3"></a></span>
<span id="cb14-4"><a href="locating-spatial-epidemiology.html#cb14-4"></a><span class="co"># Write the file mvc to disk as a geopackage format</span></span>
<span id="cb14-5"><a href="locating-spatial-epidemiology.html#cb14-5"></a><span class="kw">st_write</span>(mvc, <span class="st">&#39;GA_MVC/ga_mvc_v2.gpkg&#39;</span>)</span></code></pre></div>
</div>
</div>
<div id="basic-visual-inspectionplots" class="section level3" number="1.3.5">
<h3><span class="header-section-number">1.3.5</span> Basic visual inspection/plots</h3>
<p>The base-R <code>plot()</code> function is extended by the <code>sf</code> package. That means that if you call <code>plot()</code> on a spatial object <strong>without having loaded</strong> <code>sf</code>, the results will be different than if <code>plot()</code> called <strong>after loading</strong> <code>sf</code>.</p>
<p>When you <code>plot()</code> with <code>sf</code>, by default it will try to make a map <strong>for every variable in the data frame</strong>! Try it once. If this is not what you want, you can force it to only plot <em>some</em> variables by providing a vector of variable names.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="locating-spatial-epidemiology.html#cb15-1"></a><span class="kw">plot</span>(mvc) <span class="co"># this plots a panel for every column - or actually the first 10 columns</span></span></code></pre></div>
<pre><code>## Warning: plotting the first 9 out of 17 attributes; use max.plot = 17 to plot
## all</code></pre>
<p><img src="EPI563-SpatialEPI_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="locating-spatial-epidemiology.html#cb17-1"></a><span class="kw">plot</span>(mvc[<span class="st">&#39;MVCRATE_05&#39;</span>]) <span class="co"># this plots only a single variable, the MVC mortality rate for 2005</span></span></code></pre></div>
<p><img src="EPI563-SpatialEPI_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="locating-spatial-epidemiology.html#cb18-1"></a><span class="kw">plot</span>(mvc[<span class="kw">c</span>(<span class="st">&#39;MVCRATE_05&#39;</span>, <span class="st">&#39;MVCRATE_17&#39;</span>)]) <span class="co"># this plots two variables: MVC rate in 2005 &amp; 2017</span></span></code></pre></div>
<p><img src="EPI563-SpatialEPI_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
<p>You might only want to see the geometry of the spatial object (e.g. not attributes) if you are checking its extent, the scale, or otherwise confirming something about the spatial aspects of the object. Here are two approaches to quickly plot the geometry:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="locating-spatial-epidemiology.html#cb19-1"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(mvc)) <span class="co"># st_geometry() returns the geom information to plot</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="locating-spatial-epidemiology.html#cb20-1"></a><span class="kw">plot</span>(mvc<span class="op">$</span>geom)  <span class="co"># this is an alternative approach...directly plot the &#39;geom&#39; column</span></span></code></pre></div>
<p><img src="EPI563-SpatialEPI_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="working-with-crs-and-projection" class="section level3" number="1.3.6">
<h3><span class="header-section-number">1.3.6</span> Working with CRS and projection</h3>
<p>If CRS (coordinate reference system) and projection information was contained in the original file you imported, it will be maintained. <strong>If there is NO CRS information imported it is critical that you find out the CRS information from the data source!</strong> The most unambiguous way to describe a projection is by using the <strong>EPSG</strong> code, which stands for <em>European Petroleum Survey Group</em>. This consortium has standardized hundreds of projection definitions in a manner adopted by several <code>R</code> packages including <code>rgdal</code> and <code>sf</code>.</p>
<p>This course is not a GIS course, and learning about the theory and application of coordinate reference systems and projections is not our primary purpose. However some basic knowledge <em>is necessary</em> for successfully working with spatial epidemiologic data. Here are several resources you should peruse to learn more about CRS, projections, and EPSG codes:</p>
<ul>
<li><a href="https://www.nceas.ucsb.edu/sites/default/files/2020-04/OverviewCoordinateReferenceSystems.pdf">A useful overview/review of coordinate reference systems in <code>R</code></a></li>
<li><a href="https://geocompr.robinlovelace.net/reproj-geo-data.html">Robin Lovelace’s Geocompuation in R on projections with <code>sf</code></a></li>
<li><a href="https://epsg.io/">EPSG website:</a> This link is to a searchable database of valid ESPG codes</li>
<li><a href="https://guides.library.duke.edu/r-geospatial/CRS">Here are some useful EPSG codes</a></li>
</ul>
<p>We already saw the CRS/projection information when we used the <code>head()</code> function above; it was at the top and read <code>WGS 84</code>. Recall there are two main types of CRS: purely <strong>geographic</strong> which is to say coordinate locations are represented as <em>latitude</em> and <em>longitude</em> degrees; and <strong>projected</strong> which means the coordinate values have been transformed for representation of the spherical geoid onto a planar (Euclidean) coordinate system. <code>WGS 84</code> is a ubiquitous geographic coordinate system common to boundary files retrieved from the U.S. Census bureau.</p>
<p>An important question when you work with a spatial dataset is to understand whether it is primarily a geographic or projected CRS, and if so which one.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="locating-spatial-epidemiology.html#cb21-1"></a><span class="kw">st_is_longlat</span>(mvc)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>This quick logical test returns <code>TRUE</code> or <code>FALSE</code> to answer the question <em>“Is the <code>sf</code> object simply a longitude/latitude geographic CRS?”</em>. The answer in this case is <code>TRUE</code> because <code>WGS 84</code> is a geographic (longlat) coordinate system. But what if it were <code>FALSE</code> or we wanted to know more about the CRS/projection?</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="locating-spatial-epidemiology.html#cb23-1"></a><span class="kw">st_crs</span>(mvc)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: WGS 84 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     DATUM[&quot;World Geodetic System 1984&quot;,
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;unknown&quot;],
##         AREA[&quot;World&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p>This somewhat complicated looking output is a summary of the CRS stored with the spatial object. There are two things to note about this output:</p>
<ul>
<li>At the top, the <em>User input</em> is <code>WGS 84</code></li>
<li>At the bottom of the section labeled <code>GEOGCRS</code> it says <code>ID["EPSG",4326"]</code></li>
</ul>
<p>While there are literally hundreds of distinct EPSG codes describing different geographic and projected coordinate systems, for this semester there are three worth remembering:</p>
<ul>
<li><strong>EPSG: 4326</strong> is a common geographic (unprojected or long-lat) CRS</li>
<li><strong>EPSG: 3857</strong> is also called <em>WGS 84/Web Mercator</em>, and is the dominant CRS used by Google Maps</li>
<li><strong>EPSG: 5070</strong> is the code for a projected CRS called <em>Albers Equal Area</em> which has the benefit of representing the visual area of maps in an equal manner.</li>
</ul>
<p>Once the CRS/projection is clearly defined, you may choose to transform or <em>project</em> the data to a different system. The <code>sf</code> package has another handy function called <code>st_transform()</code> that takes in a spatial object (dtaaset) with one CRS and outputs that object <em>transformed</em> to a new CRS.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="locating-spatial-epidemiology.html#cb25-1"></a><span class="co"># This uses the Albers equal area USA, </span></span>
<span id="cb25-2"><a href="locating-spatial-epidemiology.html#cb25-2"></a>mvc.aea &lt;-<span class="st"> </span><span class="kw">st_transform</span>(mvc, <span class="dv">5070</span>)</span>
<span id="cb25-3"><a href="locating-spatial-epidemiology.html#cb25-3"></a></span>
<span id="cb25-4"><a href="locating-spatial-epidemiology.html#cb25-4"></a><span class="co"># This uses the Web Mercator CRS (EPSG 3857) which is just barely different from EPSG 4326</span></span>
<span id="cb25-5"><a href="locating-spatial-epidemiology.html#cb25-5"></a>mvc.wm &lt;-<span class="st"> </span><span class="kw">st_transform</span>(mvc, <span class="dv">3857</span>)</span>
<span id="cb25-6"><a href="locating-spatial-epidemiology.html#cb25-6"></a></span>
<span id="cb25-7"><a href="locating-spatial-epidemiology.html#cb25-7"></a><span class="co"># Now let&#39;s look at them side-by-side</span></span>
<span id="cb25-8"><a href="locating-spatial-epidemiology.html#cb25-8"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(mvc), <span class="dt">main =</span> <span class="st">&#39;EPSG 4326&#39;</span>)</span>
<span id="cb25-9"><a href="locating-spatial-epidemiology.html#cb25-9"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(mvc.wm), <span class="dt">main =</span> <span class="st">&#39;Web Mercator (3857)&#39;</span>)</span>
<span id="cb25-10"><a href="locating-spatial-epidemiology.html#cb25-10"></a><span class="kw">plot</span>(<span class="kw">st_geometry</span>(mvc.aea), <span class="dt">main =</span> <span class="st">&#39;Albers Equal Area (5070)&#39;</span>)</span></code></pre></div>
<p><img src="EPI563-SpatialEPI_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Do you see the difference between the three? Because EPSG 4326 and 3857 are both unprojected (e.g. they are long/lat), they appear quite similar but are not identical. Albers Equal Area, on the other hand, is more distinct. In general we will prefer to use <em>‘projected’</em> rather than <em>‘unprojected’</em> (long/lat only) data for both visualization and analysis. That means that whenever you bring in a new dataset you will need to check the CRS and project or transform as desired.</p>

<div class="rmdcaution">
<strong>Important:</strong> It is important to distinguish between defining the current projection of data and the act of <em>projecting</em> or <em>transforming</em> data from one known system to a new CRS/projection. <strong>We cannot transform data until we correctly define its current or original CRS/projection status.</strong> The above function tells us what the current status is. In some cases data do not have associated CRS information and this might be completely blank (for instance if you read in numerical <span class="math inline">\(x,y\)</span> points from a geocoding or GPS process). In those cases you can <strong>set</strong> the underlying CRS using <code>st_set_crs()</code> to define it, but this assumes you <strong>know</strong> what it is. There are two arguments to this function: the first is <code>x = objectName</code>, and the second is <code>value = xxx</code> where <em>‘xxx’</em> is a valid EPSG code.
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="installing-packages-for-this-course.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cartography-for-epidemiology-i.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mkram01/EPI563-SpatialEPI/edit/master/01-locating-spatial-epi.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"toc_depth": 2,
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
